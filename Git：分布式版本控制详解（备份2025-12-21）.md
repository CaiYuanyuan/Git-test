@[toc](Git)


---
# Git：分布式 版本控制系统（软件）

---

- 参考文档：[Git （中文版-官方文档）](https://git-scm.com/book/zh/v2/%E8%B5%B7%E6%AD%A5-Git-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F) 
-  **交互式学习**：
   - 可视化 学习分支操作：[Learn Git Branching](https://learngitbranching.js.org/)
   - [GitHub Learning Lab](https://lab.github.com/) （网不好的话，可能打不开，用上面那个）


---
## Git 简介

<br />


**`Git`** ：是一个**分布式的 版本控制系统**，具体来说，就是一个可以安装在本地的 **软件/工具**，用于**版本控制**，可以跟踪文件的变化，方便多人协作开发（配合 Github 这类 在线服务网站）。
- **注**：安装了 Git，只是有了 **本地 Git 仓库**（版本库），可以进行**本地版本控制**。想要多人协作，一般搭配 **远程仓库**（Github、Gitee 等网站上的仓库）进行备份、多人协作开发。
- 简称 **DVCS**，分布式 版本控制系统，Distributed~美/dɪˈstrɪbjuːtɪd/~ Version~美/ˈvɜːrʒ(ə)n/~ Control System。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/05ef806e1cd04f75a75755044a6df55d.png)



 **Git 的核心概念**：
- **版本控制**：记录文件的**每一次修改**，可以**随时回退**到任意历史版本。
- **分布式**：每个开发者，都拥有 完整的项目历史和仓库副本。
- **分支管理**：可以创建**独立分支** 进行功能开发，再合并到主分支。
- **主要应用场景：** 代码版本管理、团队协作开发、代码备份和恢复、开源项目贡献。


---
**Git 和其他版本控制的区别**

| 事项 |Git| 其他版本控制  |
|:--|:--|:--|
|   **存储数据方式 不同（存储差异）**| **Git 系统（存整体的快照）**：存储 项目随时间改变的 **快照**。<br /><br />每次提交更新或保存项目状态时，就会对当时的**全部文件 创建一个快照**，并保存这个**快照的索引**。 <br /><br /> 如果**文件没有修改**，为了效率，Git 不再重新存储该文件，而是只**保留一个链接 指向之前存储的文件**。 Git 对待数据更像是一个 快照流。 <br />![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/5c3a32bb982b4ad791715c091d10b8d3.png)    | **其他系统**：每个文件 **与初始版本的 差异**。<br /> 以**文件变更列表**的方式 存储信息，这类系统（CVS、Subversion、Perforce 等等）<br /> ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/c5dddedb9f7c499382067d9672843e96.png)|
| **操作** |  Git： **操作基本上都是本地执行**。<br />绝大多数操作 都只需要访问本地文件和资源。 |  需要连接服务器，操作费时。| 
| **完整性** | Git：能保**整数据完整性**，传输中丢了数据、数据损坏 能被发现。<br />验证完整性方式：哈希值。<br />（相同文件，不管何时何地，都只有一个相同的哈希值。）<br /><br />Git 数据库中保存的信息 都是以**文件内容的哈希值 来索引**，而不是文件名。|
| **数据操作** | Git：**几乎只添加数据，不删除数据。** <br /> 一旦提交数据到 Git 仓库后，就不用怕数据丢失、不可恢复。| 


---
**Git 的 3 种状态、3 种阶段**

**Git 的 3 种状态**： 已修改（`modified`） 、 已暂存（`staged`）、 已提交（`committed`）。
- ❶ **已修改**：修改了文件，但还没保存到数据库中。
- ❷ **已暂存**：对一个已修改文件的当前版本 **做了标记**，使之 **包含在下次提交的快照中**。
- ❸ **已提交**：数据已经安全地保存在本地 Git 数据库中。

**3 种状态 ⇒  对应 3 个阶段**：工作区、暂存区、 Git 仓库。
- ❶ **工作区**：在本地创建，或是 从 Git 仓库的压缩数据库中 提取出来的文件，放在磁盘上供我们使用或修改。
- ❷ **暂存区**：是一个文件，保存了下次 **将要提交的 文件列表信息**，一般在 Git 仓库目录中。 按照 Git 的术语叫做“索引`index`”，不过一般说法还是叫“暂存区 `staging area`”，两者是同一个意思。
- ❸ **Git 仓库**：Git 用来保存项目的元数据和对象数据库的地方。 从其它计算机克隆仓库时，复制的就是这里的数据。
---
- **Git 基本的工作流程**：修改文件 ⇒  暂存文件 ⇒  提交到 Git 仓库永久保存。
	- **注**：这时数据还在**本地 Git 仓库**，如果需要上传到**云端备份**，需要关联 Github、Gitee 等网站的**远程仓库**，后面会详解。
	- 在**工作区里** 修改文件（**已修改**）⇒   把修改后、想提交的文件 放在**暂存区**（**已暂存**），⇒   提交 暂存区的文件  = 把快照存到 **本地 Git 仓库**（**已提交**）。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/a29a8e35012f40bfa3bd4f4b32f8166a.png)
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/4678aedd3c824f198b98d144e0a9b98d.png)


---
**注 1**：版本控制系统（如 Git），只能 **跟踪“文本文件的改动”**，本质是文本文件的文件（如 `.txt`、`.html`、`.css` 等代码文件） 都可以追踪具体的修改，添加或删除了某些文本，能被追踪到，但二进制文件，如 图片、视频、word 文等，具体修改了什么内容无法被跟踪。 

**注 2**：文本的编码问题，推荐统一使用标准的 `UTF-8`，所有平台否支持、还支持所有语言，没有冲突。（**不要使用** windows **自带的记事本**编辑文本文件，容易出现编码问题，可以使用常见的代码编辑器，如 webstorm，可免费使用。

---
---

## 安装 Git 


**Git 的操作方式**：❶ 命令行、❷ 图形化用户界面的软件（GUI）。
- **区别**：命令行模式下，能执行 Git 的 **所有命令**，大多数的 GUI 软件可能功能不全，只能操作**部分命令**，因为 GUI 软件 为了降低操作难度，只实现了 Git 功能的一个子集。

:warning: **安装 Git**：**要使用 Git，必须先安装 Git** 。
- 各系统安装方法，参考官方安装教程： [Git - 安装 Git](https://git-scm.com/book/zh/v2/%E8%B5%B7%E6%AD%A5-%E5%AE%89%E8%A3%85-Git) 。
- **windows 系统安装**：
	- [点击下载 windows 安装包 - （2.52.0）x64 版本](https://release-assets.githubusercontent.com/github-production-release-asset/23216272/5fd8ab6c-2db0-462d-99bf-1c990b2d24a7?sp=r&sv=2018-11-09&sr=b&spr=https&se=2025-12-16T09:37:06Z&rscd=attachment;%20filename=Git-2.52.0-64-bit.exe&rsct=application/octet-stream&skoid=96c2d410-5711-43a1-aedd-ab1947aa7ab0&sktid=398a6654-997b-47e9-b12b-9515b896b4de&skt=2025-12-16T08:36:59Z&ske=2025-12-16T09:37:06Z&sks=b&skv=2018-11-09&sig=PjMijdDCpprczCT70/Z%2bcIaQPrx2FIcpKBfX83lzL5o=&jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmVsZWFzZS1hc3NldHMuZ2l0aHVidXNlcmNvbnRlbnQuY29tIiwia2V5Ijoia2V5MSIsImV4cCI6MTc2NTg3NjY0MSwibmJmIjoxNzY1ODc0ODQxLCJwYXRoIjoicmVsZWFzZWFzc2V0cHJvZHVjdGlvbi5ibG9iLmNvcmUud2luZG93cy5uZXQifQ.IGd-HVdRWS5_lyfp01gVsAWSM7Ljae4WnFbFIr02U9M&response-content-disposition=attachment;%20filename=Git-2.52.0-64-bit.exe&response-content-type=application/octet-stream)
	- [:heavy_check_mark: 推荐参考教程（非常详细）：【Git】2025全图文详解安装教程-CSDN](https://blog.csdn.net/qq_62223405/article/details/154869827)  
- **最简单的安装方法**：安装 [GitHub Desktop](https://github.com/apps/desktop)，图形界面。  包含图形化和命令行版本的 Git。 支持 Powershell，提供了稳定的凭证缓存和健全的换行设置。 很适合初学者体验 Git，快速上手，但不适合学习 Git 命令。
	- **缺点**：无法执行变基、交互式添加、复杂筛选等操作 ，仍需要 **Git 命令行** 。
	- **学习初期**：推荐从 Git Bash（命令行）开始，方便理解代码原理，仅以 GitHub Desktop 为可视化辅助。





---
**安装教程 补充点**


- **补充点 1**：**选择 自定义编辑器。** 选项里往下滑，选择“select other editor”，找到自己编辑器的`.exe` 文件，选择该文件。


- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/84e416e78bd04d5eaa2a9ba6e60bf8d8.png)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/be44d7e7bb4d43b6b55ce8e312ba251a.png)
---
- **补充点 2** ： 如果**用户凭证管理是“灰色按钮”**，无法选择，提醒需要`.NET Framework＞=4.7.2` ，暂时取消安装。
	- **手动下载安装.NET Framework**：
	- [访问 Microsoft 官网下载 .NET Framework（所有版本）](https://dotnet.microsoft.com/zh-cn/download/dotnet-framework)
	- [直接点击下载 .NET Framework 4.8 版本](https://download.visualstudio.microsoft.com/download/pr/2d6bb6b2-226a-4baa-bdec-798822606ff1/9b7b8746971ed51a1770ae4293618187/ndp48-web.exe)
	- 安装完毕后，再重新开始装。

---
- **安装好后 开始使用 `Git` 命令行**：点击 **Git Bash** 快捷方式，或者按 **win 窗口键**（开始菜单），或者 **在桌面、磁盘中 任意位置右击** 选择 菜单项 “**Open Git Bash here**”，点击 Git bash，就能进入 命令行窗口。
-  ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/5b9edff107dc4da8a3b321083a64c8de.png)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/9a9de03c63da4b2fa2ba1f54a43c6540.png)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/8c882a841daa466ab7cf3109f795eaa9.png)

- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/4649457457ac435992d1a15155b61c44.png)


---
---
## 配置 Git：查看配置信息

<br />


 **配置 Git** ：大部分的配置，在安装 Git 的过程中就设置过了，如 默认文本编辑器、初始化时分支的默认名称、正确的行尾转换（回车换行符）、用户凭证管理等。

|用途| 命令 |
|:--|:--|
| **查看 所有配置信息（=配置信息列表）** |`git config --list`  |
| **查看 配置信息列表、带地址信息** | `git config --list --show-origin`|
| **查看具体某一项的配置信息** | `git config 配置项名称`


 - **控制 Git 外观和行为**：使用 Git 自带的 `git  config` 工具，设置 **配置变量**。config~美/kənˈfɪɡ/~，就是“配置”的意思。
- ❶ **查看 配置信息**：使用配置列表  `git config --list`，列出 Git 现在能找到的所有配置。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/23c414d49db249778016be14a740b0e9.png)

- ❷  **查看所有配置信息 以及“所在文件”**：`git config --list --show-origin`，所在文件 ⇒  使用 显示源地址 `--show-origin`。
	- **注**： 由于 Git 会从多个文件中 读取同一配置变量的不同值，所以怕弄不清是哪个文件里的值时，就加上  `--show-origin`，会显示从哪个配置文件里读取的值。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/43e20e7cd74c4aef8d57584c728c8224.png)
- ❸ **查看 某一项配置**： `git config <key>`，如 默认的主要文本编辑器 `git config core.editor`，和 全部配置信息里是一样的。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/150e8e70e0c6429b8048ea07b2c7633e.png)

---
- **配置变量 存储的位置 有 3个**：
	 - ❶ **每个用户、用户仓库的 “通用配置“（系统配置）**： `/etc/gitconfig` 文件里，在 Git 的安装文件夹里的 `etc` 文件夹里。（系统配置需要管理员权限）。
	 	- **读写 系统配置文件**：用 `git config --system` 选项。
	 - ❷ **当前用户 的配置**：`~/.gitconfig` 或 `~/.config/git/config` 文件。
	 	- **读写 当前用户配置**：用 `git config --global`选项，会对**所有仓库生效**。
	 - ❸ **当前仓库** 的配置：Git 目录里的`config` 文件，`.git/config`。
	 - **每一个级别的配置 会覆盖上一个级别的配置**：如 当前仓库的配置变量 `.git/config`会覆盖 系统配置里配置变量 `/etc/gitconfig`。
	 	- **读写 当前仓库配置**：`git config --local` 选项，进入某个仓库中时 才会生效。
- **注**：使用 命令行时，默认会在**根目录下 查找**，根目录 = 安装 Git 时选择的位置。默认是 C 盘，安装时也可以自己选择位置。
 
---
### 绑定用户：设置 用户名、邮箱、使用 Git 本身的菜单项

- **Git 提交时，要用到这两个信息**，会写入到每一次提交中。
	- ⇒  以后每次提交代码时 ，**署名**用的名字和邮箱，告诉别人这个是谁提交的代码，多人合作时，容易划分对象。 
	- ❶ 如果设置时 使用了 全局`--global` 选项，只需要设置这一次， 之后该用户的所有操作 都会自动用到这两个信息了。
	- ❷ 如果在特定项目中使用，在该项目下设置用户名、邮箱，不要使用`--global` 选项。
	- **注**：如果有 Github 账户，可以填写 Github 的用户名、绑定的邮箱。


```bash
# 全局默认配置（个人账户）
git config --global user.name "自己的用户名"
git config --global user.email "自己的邮箱"

# 为工作项目 单独配置
cd /path/to/work-project
git config user.name "公司用户名"
git config user.email "公司邮箱"
```
- **例**： **配置自己用户名、邮箱**
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/9ddb4534b6f24f66a4a7d1b6fd50c838.png)
- **配置好后，查看下配置是否成功，配置文件在哪里**：`git config --list-origin`
	- 可以看到刚配置的用户信息，放在 C 盘的用户`User` 文件夹里的 `.gitconfig` 中。
	- 注：进入 `User` 文件夹 看不到该文件时，直接搜索`.gitconfig` 就会显示出来），但不要随意更改，自带笔记本更改 容易出问题。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/c8a04fc3e1694abd8be7b5c61cce7934.png)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/4395ad5520eb47b89d2a09e39e34cab2.png)

---

- **Git bash 本身的菜单项**： 进入 Git bash 后，点击鼠标右键，会出现菜单项，可以粘贴、复制、设置外观、鼠标、选中行为等。
	- **注**：**复制文本的问题**：在 Git Bash 中选中文本时，一松鼠标左键，命令行总会出现`^C` 提示。
		- **Git bash 中 复制文本的办法**：**选中文本后，不要松开左键，按住左键的同时，右击鼠标**，会出现复制 **Copy** 选项，这个时候 松左键，点击 **Copy**，就能复制文本，还不会出现`^C` 提示。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/7b2feffc2ea4470a9f7ceff20ef6a51b.png)
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/e4a2f93b282149b89e7737a79f89fe6d.png)




---


### Git Bash 的中文路径/ 文件名 显示 “乱码/转义”问题
**问题**：本地文件夹、文件名为中文时，在 Git Bash 中出现转义/乱码的问题。
- **原因**：Git 默认会对"特殊字符"进行转义，默认显示为**八进制转义序列**。包括：非 ASCII 字符（中文、日文等）、控制字符、空格等特殊符号。

```bash
# 查看所有配置
git config --list

# 查看特定配置，如果没有输出，就是默认转义功能
git config core.quotepath

```

- **解决办法**：使用`locale` 命令，先查看 Git Bash 的语言设置，为 `utf-8` 时 →  把默认的中文转义功能关掉。
	- 解决中文或其他非 ASCII 字符在 Git 输出中显示为转义序列的问题：`git config --global core.quotepath false`。
	-  `git config`：Git 配置管理命令 ；
	-  `--global`：全局配置，对当前用户的所有仓库生效。（其他选项：`--system` 系统级，`--local` 仓库级）；
	- `core.quotepath false`：Git 的一个配置项，控制路径名显示方式。`false` **禁用路径转义功能**。

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/0eb35aba8e1243f0bc54794cf44b40b7.png)
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/e1266104a247432ab3f590248410cc2c.png)

- 如果不能解决问题，或出现其他问题，**恢复默认设置**

```bash
# 恢复默认值
git config --global core.quotepath true

# 或删除配置（使用默认值）
git config --global --unset core.quotepath
```


- Windows 中文用户，其他可能需要的配置
```bash

# 关闭默认的特殊字符转义功能
git config --global core.quotepath false

# 确保图形工具GUI 使用 UTF 编码，避免中文显示乱码问题
git config --global gui.encoding utf-8

# 指定提交信息（commit message） 的编码为 UTF-8，存储时的编码，确保 git log 能正确显示历史提交中的中文信息
git config --global i18n.commit.encoding utf-8

# 确保终端能正确显示提交历史中的非ASCII字符，显示时的编码
git config --global i18n.logoutputencoding utf-8

# Windows 用户额外可能需要：换行符处理
# 提交文件时：CRLF → LF（仓库统一用 LF），检出文件时：LF → CRLF（适合 Windows 编辑器）
git config --global core.autocrlf true  # 换行符转换
```

**跨平台换行符问题：**
- Linux/macOS：使用 **LF**（`\n`）
- Windows：使用 **CRLF**（`\r\n`）




---
---
## Git 、Github 的区别：Git = 本地版本控制的软件、Github = 在线网站、云端备份、多人协作
<br />

 **Git 是“本地工具”，GitHub 是“在线网站”，提供在线服务（代码托管、协作开发）**。
 - Git 本身作为**工具**，**数据保存在本地**，无法防止电脑损坏带来的数据丢失。
 - 但 Git 与远程仓库（GitHub 等）结合使用，可以**随时 备份数据到云端**，构成“分布式”工作流，是应对硬件故障的绝佳方案。


 **Git（版本控制工具）**：一个**分布式版本控制系统**，是一个安装在我们自己电脑上的 **软件/工具**。
*   **核心功能**：
    *   **版本管理**：跟踪代码文件的所有**历史修改记录**。可以**随时回退**到任何一个过去的版本。
    *   **分支管理**：可以创建独立的开发分支，在不影响主线代码的情况下 进行新功能开发或 Bug 修复，完成后可以合并回主线。
    *   **本地操作**：绝大多数操作（如 提交更改、查看历史、创建分支）都在我们的**本地计算机上完成**，无需网络。


 **GitHub（代码托管与协作平台）**：一个基于 `Git` 的 **“在线 代码托管和协作平台”**，是一个**网站**。
*   **核心功能**：
    *   **远程仓库托管**：为我们提供一个在云端的“仓库”，用来**备份和共享** 我们的 Git 仓库。解决了**多人协作、代码备份**的问题。
    *   **协作功能**：提供了强大的代码审查、问题跟踪、项目管理、Wiki 文档等功能，极大地方便了团队协作。
    *   **社交与开源**：是全球最大的开源社区。可以“关注”其他开发者，“收藏”感兴趣的项目，并通过 **Pull Request** 为任何开源项目贡献代码。


**主要区别总结**

| 特性 | Git | GitHub |
| :--- | :--- | :--- |
| **性质** | **工具/软件** | **在线平台/服务** |
| **归属** | Linus Torvalds 创造的开源项目 | 微软旗下的公司（2008年创建） |
| **运行位置** | 主要在**本地计算机**上运行 | 在**云端服务器**上，通过浏览器访问。 |
| **核心价值** | **版本控制**（管理代码历史） | **代码托管（备份）、协作与社交**（分享和协作） |
| **网络需求** | 大部分操作无需网络 | 主要操作需要网络连接 |
| **替代品** | Mercurial, SVN（集中式）等 | Gitee（码云）、GitLab 等 |


*   可以**只使用 Git**  进行 **本地的版本控制**，而不使用 GitHub。
*   但如果想**备份代码到云端**，或想进行**团队协作**、参与**开源项目**，就需要将本地的 **Git 仓库 推送**到像 **GitHub** 这样的远程托管平台。


---

 :warning:**本地 Git 的风险：没有备份，电脑损坏时 容易丢失数据**
- **本地 Git**： **只在本地使用 Git**，没有定期推送到远程仓库（= 无随时备份）。
*   **原因**：
    *   `Git` 的所有**版本历史、分支信息** 都存储在 **`本地`** 项目目录的 **`.git`** 隐藏文件夹中。
    *   如果电脑突然坏了，并且这个 `.git` 文件夹没有备份，那么 **这个项目所有的“版本历史”、所有“分支记录” 都会丢失**。
    *   **只能找回** 我们最后一次**手动备份**的整个项目文件夹（如 拷贝到U盘、云盘），但**会丢失**自那次备份之后的所有 `git commit` 历史。


 :heavy_check_mark:  **定期推送到远程仓库**（GitHub、GitLab、Gitee等）：**几乎可以无损恢复。**
*   **原因**（这是 Git 设计的核心优势之一）：
    1.  **完整的备份**：**远程仓库** 是本地仓库的完整镜像，包含了所有提交历史、所有分支和标签。
    2.  **恢复流程**： 换一台新电脑⇒  安装 Git ⇒  使用 `git clone <远程仓库地址>` 命令。
        *   一瞬间，就能把云端的最新代码**以及完整的版本历史** 全部拉取到新电脑上，回到我们最后一次 `git push` 时的状态。
    3.  **分布式系统的好处**：Git 是分布式版本控制系统，意味着每个开发者的 本地仓库都是一个完整的备份。我们和同事的电脑+远程服务器，构成了**多个备份点**。

 **核心要点和最佳实践**：电脑损坏时，能不能找回数据，如 项目文件、历史记录等。
-  **纯本地 Git，无备份**： **Git 基本没用**，仅能依赖硬盘恢复，希望渺茫。 
-  **本地 + 定期手动文件备份** ：**部分有用** ，能恢复备份时间点的**项目文件**，但**丢失 Git 历史**。
-  **本地 + 定期推送到远程仓库**：**完全有用** ， 能**100%恢复**代码、分支和完整历史到最近一次推送的状态。

==**黄金法则：**==

1.  :heavy_check_mark: **尽早、频繁地 `git push`**：这是最重要的习惯。完成一个有意义的功能单元或修复后，就推送到远程。这不仅是备份，也方便协作。
2.  **理解“推送”与“提交”的区别**：
    *   `git commit` ：只是**在本地 创建了一个“历史快照”**（保存点在本地）。
    *   `git push` ：才是**把这个快照 “同步到 云端服务器”**（异地备份）。
    *   只 `commit` 不 `push`：就只是写在**本地电脑**上，没存**云盘备份**。电脑一旦有意外，没有备份时，数据就全没了。
3.  **利用分支保护**：将重要的分支（如 `main`, `master`）设置为受保护分支，防止意外删除。

- **总结**： 应该养成 **`commit` 之后随手 `push`** 的好习惯，**修改就提交，提交就备份，备份就不会丢数据**。

**练习 Git 的实践项目**
- 在 **GitHub/ Gitee** 创建个人项目 。
	- 本地也可以练习 Git，但 搭配 Github 能随时备份数据，能防丢失；注：如果是开源项目，数据是公开的，别人能看到。
- 进行日常的添加、提交、推送练习。
- 尝试创建分支开发功能并合并。

---
---

### 把 Git 绑定到 Github：通过 SSH 密钥 绑定
- **把 Git 和 Github 绑定**： 通过 SSH 绑定， 安全外壳协议（Secure Shell Protocol）。注：也可以通过 HTTPS 方式绑定，不过 SSH 最常用。
- **具体绑定方式**：把 Git Bash 中生成的 **`SSH` 公钥**，填写到 Github 的 `SSH Key` 中。
- **不绑定 Github 的影响**：不绑定 Github，Git 就不能把 **本地 Git 仓库** 推送到 Github上，也就是**不能上传备份**。

---
<div id="sshkey-generate" style="display:none"> </div>

**第一步，在 Git Bash 中 生成 `SSH Key`。**
- ❶ 检查本地是否安装了 SSH，输入`ssh`，显示如下，则是安装了。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/c1bf311675c74b67bbb495def169b277.png)
- ❷ **生成 密钥 `SSH key` ，有 2 种方式**： 
	- **A：不带注释**： `ssh-keygen -t rsa`。
		- `ssh-keygen -t rsa`：生成**基本的 RSA 密钥对**（默认 2048 位），**密钥注释 使用默认格式**：`用户名@主机名`。
	- **B：指定邮箱为“注释”**：输入 `ssh-keygen -t rsa -C "自己的邮箱"`。
		- `ssh-keygen -t rsa -C "自己的邮箱"`：生成 **RSA 密钥对**，**`-C` 参数** 用于**设置密钥注释**（comment），注释会显示为我们的邮箱地址。
	- :bell:**`-C`注释**： 注释，用于 **识别密钥的“用途或所有者”** ，不影响密钥本身的安全性，生成密钥时，加不加注释都可以。
		- **不同注释 区分不同用途的密钥**：在查看公钥文件（`id_rsa.pub`）或使用 `ssh-keygen -l -f` 查看密钥指纹时会显示。
		- GitHub/GitLab 等平台：**建议使用“邮箱”作为注释**，便于**识别 密钥所有者**。
	- 如果没有意外情况，**输入指令后，点击三次回车（= 全部用默认值）** ，就能自动生成 密钥。
		- 意外情况，一般是主目录里用户名是中文的，导致中文乱码、找不到目录（提示： failed: No such file or directory ），保存密钥失败， [点击查看 解决办法](#no-directory) 。
		- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/ca90d2d40a3d437992f2cb9bab5725b6.png)

		- 第一次，提示：`Enter file in which to save the key` 
			- 让设置 **密钥保存位置**，按回车就是代表**使用 默认位置**。（可以自己输入，但一般使用默认的即可）
		- 第二次，提示：`Enter passphrase for` 
			- 让我们为私钥文件设置一个密码，直接 **按回车就是 不设置密码**。
			- 如果输入密码，以后用这个 SSH 密钥连接时，每次需要输入这个密码。
			- 如果直接回车，就默认不用密码，连接会更快，但没密码就没那么安全，**图省事就可以省略，完全不影响密钥生成**。
		- 第三次，提示：`Enter same passphrase again:`
			- 确认密码，再输入一次密码，第二步没输入的话，第三步也直接 按 Enter 键，**不确认密码**。

---

-  **第二步，密钥成功生成后，到密钥的保存路径，找到这两个密钥，复制“公钥内容”。**
	- 复制公钥，右击公钥文件→   选择“打开方式”→   “记事本” ，打开后不要修改，直接 **ctrl +a 全选**，**ctrl+c 复制**，然后直接关闭记事本，避免误触。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/501155ddaafe49fc9b3e57ca74dd376c.png)
- **第三步**： 打开 Github 网站，登录账户，**找到 Github 中 `SSH key` 的填写位置**：按照 GitHub → Settings → SSH and GPG keys → New SSH key 。
	- **注**： 登录 Github 网站，容易遇到访问速度很慢、无法连接的情况，可以搜下解决办法，最终都能解决问题，如果不是非 Github 不可，可以直接使用 国内的同类型网站，如 [Gitee](https://gitee.com/)，速度会很快。
	- Gitee 的使用方法和 Github 相似，也可以上传 **SSH 公钥**认证。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/7dd892ca3fe94aa98dc5f10491985d16.png)

- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/7ec26f6c2fd14ca8922298e199970faa.png)


---

**第四步**：在 Git Bash 中验证 是否和 Github 关联成功了： `ssh -T git@github.com`。 

- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/98672939bfce44819d7c17514c84ecfa.png)

<br /> 

- **验证时 可能的意外、解决办法**：如果默认路径中有中文，可能会出现乱码报错（找不到目录、无法存储 host）、权限可能被拒绝，解决办法如下 ↓

- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/37741e055d604209ad2fe899a5df5f09.png)
	- ❶ **权限被拒绝 Permission denied**⇒  查看 **ssh-agent** 中是否有密钥：`ssh-add -l`，提示 “Could not open a connection to your authentication agent.”⇒  这个错误意味着 **ssh-agent 没有运行。**使用三句代码解决。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/e93576e88b33485691b07b535a67732a.png)


	- ❷ **路径里有中文，导致乱码问题 无法添加 `host`问题**：直接**强制指定 `known_hosts` 文件的存放路径**。
	- `ssh -T git@github.com -o "UserKnownHostsFile=/c/Users/自己的用户名/.ssh/known_hosts""`，会出现成功添加 host 的提示。
		- **成功提示**：Warning: Permanently added 'github.com' (ED25519) to the list of known hosts.
		- 把 GitHub 的服务器信息（它的身份指纹）记录到本地了。下次连接 GitHub 时，不需要再问我们了。
			- 存在文件里：`~/.ssh/known_hosts`。（`~` 代表我们的用户主目录，**可用`pwd` 查看当前目录**）。
		- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/3a0e58262b724b1f8555bc954eb811ce.png)




---
<div id="no-directory" style="display:none"> </div>

 **补充说明：无法保存密钥的 解决办法。如果密钥生成过程中，提示“失败，没有当前目录”**  ⇒  failed: No such file or directory 。
- **解决办法**：先创建`.ssh`目录后，再用“指定存放密钥存放地址”的方式，重新创建 SSH 密钥。（参见后面的步骤）
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/2d17c74b90f04b14af747a481de6341c.png)



**第一步**，显示**当前所在的目录**（文件夹）的完整路径。 输入 `pwd`， = Print Working Directory（打印工作目录）。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/c0de1e64440c45a98154f564e19b8a9b.png)

**第二步**，**创建 `.ssh` 文件夹，确保 SSH 配置目录存在**。
- **输入命令**：`mkdir -p "/c/Users/张三/.ssh"` 
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/470f5e29426549d8b3cc785b726bef9c.png)



- **`mkdir`**：创建目录命令。
- **`-p`**：参数，表示：
  - 如果父目录不存在，一起创建。
  - 如果目录已存在，不报错。
- **`"/c/Users/张三/.ssh"`**：要创建的目录路径。
  - `"/c/`：Git Bash 中表示 Windows 的 C 盘根目录。
  - `Users`：Windows 用户目录。
  - `张三`：中文用户名（需要根据实际情况修改，就是 `pwd` 里查到的自己的用户名）
  	- 注：计算机的用户名（不是 Git 的用户名 ） 尽量不要用中文，容易出错，前面密钥生成好了、添加上去了，后面认证的验证 也可能出问题，也需要强制指定路径。
  - `.ssh`：SSH 配置文件目录（隐藏文件夹，手动生成就不会隐藏了）。
- **作用**：确保 SSH 配置目录存在。

---
 **第三步**：生成密钥，生成的时候 **手动指定 密钥文件保存路径**。
```bash
ssh-keygen -t rsa -f "/c/Users/张三/.ssh/id_rsa" -C "your_email@example.com"
```
- **`ssh-keygen`**：生成 SSH 密钥对的工具。
- **`-t rsa`**：指定密钥类型为 RSA。
- **`-f "/c/Users/张三/.ssh/id_rsa"`**：指定密钥文件保存路径。
  - 私钥：`/c/Users/张三/.ssh/id_rsa`。
  - 公钥：`/c/Users/张三/.ssh/id_rsa.pub`（自动生成）。
- **`-C "your_email@example.com"`**：添加注释（通常用邮箱标识密钥所有者）。
- **作用**：生成一对 SSH 密钥（**私钥+公钥**）。

	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/927b048f3176439e8c3e959f6515cc1c.png)


---
---

### 把项目上传到 Github 备份：准备本地项目/添加到 Git 仓库 → Github 上建远程仓库 → 关联本地 Git 仓库和 Github 远程仓库 →  推送项目到 Github 仓库

- 把 **Git 绑定 Github 后**（上一节），才能推送数据到 Github。
- 注：如果没有绑定成功，无法推送数据到 Github。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/5c3dc1049a20470dadac87e1ac7723bc.png)




将本地项目上传到GitHub，主要有 4 个步骤：**准备本地项目（添加到 Git仓库）、在 GitHub 创建仓库、关联本地与远程仓库（Github）、推送项目到 GitHub**。

**可能用到的基础命令**

|用途  | 命令 |
|:--|:--|
|  **查看 当前目录** |`pwd`，确定当前的位置。|
| **切换 当前工作目录**<br />**cd** = Change Directory。<br />（更改目录/切换目录）| **进入 指定文件夹：**`cd 文件夹路径`，如 ` cd /f/Git-test`；<br />**返回 上一级目录**：`cd ..` ；<br />![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/23d62ff4a8284e6e8cdfa8efd9848bb2.png)| 
|  **初始化一个 Git 仓库**|  `git init`|  
|  **添加文件到暂存区**|  `git add`|  
|  **查看 仓库当前状态**|   `git status`|  
|  **把暂存区内容 提交到“本地 Git 仓库”**|  `git commit -m "本地提交的说明"`|  
|  **添加/关联 “远程仓库地址”**|   `git remote add origin（=远程仓库别名） github上的Git仓库地址` |  
|  **查看 远程仓库的信息**|  `git remote -v`|  
|   **把本地 Git 仓库 推送到远程仓库**|   `git push -u origin main`、`git push origin main`|  
| **查看 “提交的历史记录”**| `git log` |
|**查看 当前目录里的文件列表**|`ls`、`dir`|

----
**第一步**：**准备本地项目、添加到 Git 仓库**。
- ❶  **初始化“一个 Git 仓库”** ：在**项目“根目录”执行 `git init`**，创建新的 Git 仓库（会生成 `.git` 隐藏文件夹），记录当前的文件状态，开始版本控制。
	- **注**：确保各个文件夹名 **没有中文字**，尤其是 windows 系统，否则容易出现各种奇怪的问题。如果没有当前项目，可以手动新建一个文件夹，放一个`.txt` 文件、或者图片做测试。
	- 点击进我们想上传的文件夹里（还没有被版本控制的新项目），进入文件夹后，右击 选择 **“Open Git Bash here”** ，打开命令行窗口，先确认当前目录位置 `pwd`，再输入 初始化指令`git init`，初始化后，当前文件夹里会出现一个 名字叫 `.git` 的隐藏文件夹。
		- `.git` 的隐藏文件夹：这里存放 **“当前 Git 仓库”的数据，可以进行版本控制**（提交记录、分支信息等），千万别动这个文件夹里的数据，会破坏 Git 仓库。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/75aae042fd04423391079cf61f16a9c2.png)
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/926242178a7a4a2cb65b26943e97f168.png)

- ❷ **添加文件到“暂存区”**：使用 `git add .` 将所有文件添加到暂存区（忽略文件 `.gitignore` 中声明的除外），为提交做准备：
	- 如果只想添加特定文件，可以将 `.` 替换为具体的文件，如 `git add README.md`。
	- 在项目根目录创建 `.gitignore` 文件，用来排除**不需要上传的文件**（如 临时文件、编译产物、本地配置文件等）。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/7695ff03b34f449baad39b1750e4984a.png)
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/8f5c78c515be43b485a7d0b5aefd3f55.png)




- ❸ **暂存区内容 提交到“本地 Git 仓库”**：将暂存区的内容 正式保存为一个本地版本记录。
	- 提交信息 (`-m` 后的内容) 就是告诉别人，这次提交做了什么，应该简洁清晰地**描述本次更改**。提交说明`-m`一定要写，方便以后 精准找到具体的修改记录。
	- **注**：此时的数据还在本地，在 **本地的 Git 仓库中**，没有上传。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/63012a92a5e3472f9810267fe39d88d6.png)
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/d744243c8e26432783bc93df230039d6.png)


---
- **查看 Git 仓库当前的状态**：`git status`，能随时掌握 Git 仓库当前的状态。
	- 在没有 Git 仓库的位置打开 Git Bash，查看 Git 仓库状态，输入 `git status`，会提示我们 不是 Git 仓库 “**not a git repository**”。
	- 如 我们的 Git 仓库放在 F 盘的 Git-test 文件夹中（应该在此处根目录 右键打开 Git Bash），但我们在桌面上打开 Git bash，提示如下。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/7be427d801514418a0e3e2630d47c1f4.png)



---

**第二步，在 Github 上创建一个仓库（= 本地 Git 仓库 上传后的存放位置）。**
- 点击自己的头像 →  **Repositories**~美/rɪˈpɑːzəˌtɔːriz/，仓库~ → **New**  
- 创建成功后，会看到一个**空仓库的页面**，其中包含一个 HTTPS 或 SSH 格式的**仓库地址**（URL），与本地 Git 仓库关联时 会用到，作为关联远程仓库的地址。
- **注**：创建空仓库时，除了填写仓库名、描述，选择一下公开或隐私，其他的文件都不要添加，避免第一次推送有冲突，导致推送失败。
- **注**：在填写时，会检测仓库名称的唯一性，填写后就不能修改。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/73411d4aac314b77858e9d783e1e0568.png)
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/27f30cf7925d4b4cb414c87dca3ac321.png)![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/e73de2df89c44b74b7d61ddfc9e7d689.png)

---
**第三步**： **把本地 Git 仓库 与远程仓库（Github上的）关联起来。**
- ❶ **添加“远程仓库地址”**： `git remote add origin github上的Git仓库地址` （上面复制的 Github 仓库地址）
	- 这条命令**给远程仓库起了一个“别名”**，默认叫 `origin`。
	- **远程仓库“别名的用途”**：假如有多个远程仓库时，仓库的别名 可以区分是哪个远程仓库，内容推送到远程仓库时 可以**使用这个别名 推送到指定的远程仓库**。
	- **注 1**：如果想把 一个本地的 Git 仓库 上传到两个远程仓库（如 Github、Gitee）也是可以的。在关联远程仓库时，可以给他们分别取一个别名。分别执行关联远程仓库的操作。整体操作过程都是一样的。
	- **注 2**：**如果想改一下远程仓库的别名**：可以先移除远程仓库的别名，重新关联远程仓库时 设置新的别名。
		- 移除： `git remote rm origin`，重新关联远程仓库：`git remote  add github github地址`，远程仓库的别名就从`origin` 改为 `github`了。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/f3246c7866f64e6cada5a22ae0ff4c81.png)

- ❷ **查看远程仓库的信息**：`git remote -v`
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/a3e8117eaeac4655a4d3a8e165c3b4bf.png)


---

**第四步**：**把本地 Git 仓库 推送到远程仓库**，Github 页面上就能看到文件了。
- `git push -u origin main`
	- `origin` 是本地设置的远程仓库名（指向 GitHub 上那个仓库地址）。
	- `main` 是要推送的本地分支名字。
	- `-u` ：是 `--set-upstream` 的简写，可以将本地的 `main` 分支 与远程的 `origin/main` 分支**建立长期关联**，每个分支只需要用一次。
		- **首次推送**：通常使用 `-u` 参数进行首次推送，好处是能简化后续命令，如果本地有了新的提交（`git commit`），只需执行简单的命令即可完成推送。
		-  `git add .` →  `git commit -m "描述"` →  `git push`，就可以了，不用再加 `origin main`。如果有多个远程仓库，比如 Github、Gitee 上都做了备份，想指定远程仓库提交，可以把 远程仓库的别名 分支名都加上。
		- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/70d974a54ef4431fa42ec11d27f4d1f7.png)

		- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/c13552ef0f2d421daa5fe6669ed7e6df.png)



---
---
### 在 Git 仓库中添加一个 README.md 文件，上传到 Github

<br />


**第一步**，在项目的目录下创建一个新文件。如 一个`.md`格式的 命名为 `README.md` 文件，如果这个文件放在根目录，就默认会显示在 Github 仓库的首页（后面会有上传成功的示例）。
- ❶ **把项目文件夹 添加到代码编辑器**：打开代码编辑器，文件→ 新建→ 打开→ 选择自己项目的文件夹→ 选择 新窗口打开。
- ❷ **添加新文件**：右击**项目文件夹名称**→  新建→ 文件，文件名输入 **README.md**。
	
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/6456b4cf1e154eb7938134350e3d8cd6.png)

	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/ac370dead6c24924b2edd5820647054e.png)

- ❸  **查看 Git 仓库状态**：`git status`
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/ed0308bd17264804a9d790f4fec21d2c.png)

---
**第二步：把新文件添加到暂存区**： `git add README.md`
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/e3c0152e33d34c4eaf7c01097918ebc8.png)


**第三步：把暂存区文件 都提交到 Git 仓库**：`git commit  -m  "关于本次提交的说明"`
- ❶ 提示插入的两行字，就是刚才在编辑器中输入的两行字。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/19ea87f3d7ff490b9cb1807fc5c66d5e.png)

 - **注**：为什么把工作区的文件 提交到 本地 Git 仓库，要分成 `add`、`commit`两步？
	 - 因为 `commit` 不指定文件时，能一次性提交多个文件到 Git 仓库，而被提交的文件都是谁呢？暂存区里的内容。
	 - 暂存区里的内容，可以由`git add` **添加到暂存区**里，统一管理。
	 - 这个意思就是：`add` 负责的暂存区里，存放着可以被提交的所有文件。而 `commit` 则是可以执行一次性全部提交的动作，只要是暂存区的文件，就可以全部提交。
	- **两种提交方式**：
	 	- ❶ **把暂存区文件全部提交**： `git commit -m "提交说明"`；
	 	- ❷ **绕过暂存区，直接 指定提交文件**（不提交暂存区其他文件）：`git commit  <指定的文件路径> - m "提交说明"`。


---
**第四步：把 git 仓库 推送到 Github 上**
- ❶ 查看远程仓库的信息（要推送到哪）、❷ 推送 git 仓库。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/12c84138c0314a67a16611e0b3a28105.png)

---
**第五步：查看 Github 上的显示**，检查是否推送成功。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/0a6714d0c20c4d36939f9ce6bb5bbd0e.png)
---
**查看“提交的历史记录”**：`git log`。
- 目前为止，我们提交了两次，一次是初次提交，一次是添加了一个新文件，如果我们想看以前的提交记录，可以使用 `git log` 命令。
	- **log**~美/lɔːɡ/~这个词就是**记录、日志**的意思。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/888edbf0b2174f5caf1122413458f7ee.png)
- **`commit 87affb3e2a21a0b7871ee47616116266b8898c75`**
   - 是 **提交的 id = 唯一哈希值**，是这次提交的“身份证号”。Git 通过它来**唯一标识 这次代码更改**。
	- **commit** 后面的**一串数字**，是 **commit 的 id**，每次提交都不一样，用算法算出来的哈希值，具有唯一性，目的是**为了防止冲突**。
		- 想一想，如果有多个人提交，且每个人提交很多次时，用简单的数字就无法区分是哪次提交了，很容易冲突。
		- 如，第 5 次提交是你，我也是第 5 次提交，那么有两个第 5 次提交...这不符合唯一性，提交就冲突了，但根据算法计算出的**哈希值** 能提供**唯一性**，完美解决冲突。

- **`(HEAD -> main, origin/main, gitee/main)`**
   - **HEAD**：我们当前所在的位置（通常是正在查看或工作的版本）。
   - **HEAD -> main**： HEAD 当前指向 `main` 分支（也就是**现在在 `main` 分支上**）。
   - **origin/main**：远程仓库（别名叫 `origin`）的 `main` 分支在这个提交上（说明本地 `main` 分支和远程是同步的）。
   - **gitee/main**：另一个远程仓库（别名为 `gitee`，是在 Gitee 上也配置了一个远程仓库）的 `main` 分支也在这个提交上。
   - **简单说**：本地、`origin` 远程和 `gitee` 远程的 `main` 分支目前都指向同一个提交，状态是同步的。

   - **`+0800`** ：时区是 **UTC+8**（东八区，即 北京时间）。

---
**简洁的提交历史记录**：`git log --oneline` 带上一行`--oneline` 选项。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/1a3a397da0474c048cce5abbdf77f52f.png)



---

**查看当前目录里的文件列表**：`ls`、`dir`
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/4a11c78b1ce64b09978fb83a99f1d31d.png)

---
- **注**：在代码编辑器中 可看见 Git 的**可视化版本控制**。
	- 如 **webstorm** 编辑器中，点击左下角 **Git** 可看见 Git 的提交历史 和 远程仓库，能很清楚地看见有几次提交、提交的时间、提交者是谁，点击提交记录，能看见提交的具体文件，点击两次提交的相同文件的不同版本，还能对比差异。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/7b3e05ff13dd4757a1ad7a861057620e.png)



---
---

<div id="gitee-remote" style="display:none"> </div>


### 把本地项目上传到 Gitee 
- **第一步：把 Git 绑定 Gitee**。注册、登录 Gitee 账号，点击头像→ 账号设置 → 填写 SSH 公钥。
	- [生成 SSH 公钥的方式](#sshkey-generate)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/84b48d1696084b1ebcbfe82e5988075c.png)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/94e95d957ab642f995cb93248a377444.png)

---
**第二步：验证绑定 Gitee 是否成功**
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/da562f39165041389dd61673cd3e415e.png)


---
**第三步：在 Gitee 上建仓库**，个人头像旁边的 **+** 号 → 新建仓库。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/3ab838fba3994d6ebd841117c3d558f0.png)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/dfebeb1c50ae4905ade4d94ec5c910df.png)

---
**第四步：关联 Gitee 远程仓库**
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/c9c5d5544f3041f6ab4e071c64e87605.png)

---

 **第五步**：**推送项目到 Gitee**，第一次推送可能会弹出窗口，然我们填写用户名、密码。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/513589045f6f4e099ac816c882e3b2fa.png)

- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/9f719934c4594acabf53dd9a2f55fc3e.png)

- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/cb5095a090e04d4c84c8174cb0a1ed74.png)







---
---
## 忽略文件： .gitignore 文件 
###  添加忽略文件：.gitignore 文件 = 不想被 Git 进行版本控制的文件 = 不追踪、不提交、不推送
<br />







**需求**：查看 Git 仓库状态时，发现它总是提醒有一个文件 未被跟踪，而这是一个代码编辑器的配置文件，没有必要跟踪和提交到 Git 仓库，如何让 Git 忽略这个文件呢？
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/229af32f7bdd45e58cd1983d4735371d.png)

**需要用到的命令**

|用途|命令  |
|:--|:--|
|如果当前根目录下没有`.gitignore` 文件，<br />则在当前目录下 创建一个名为 `.gitignore` 的空文件。<br />创建后，手动修改文件内容，添加需要被忽略的文件。  |`touch`：`touch .ignore`  |
|查看仓库当前状态 | `git status` | 

---
**第一步**：查看当前根目录下，有没有 `.gitignore` 文件，如果有，直接用编辑器在该文件中 添加该文件。
- 如果是初始化的仓库，当前根目录下没有`.gitignore` 文件，则在**当前目录下** 创建一个名为 `.gitignore` 的空文件，输入：`touch .gitignore`。
	- 如果 `touch` 后面跟的**文件不存在**，它会自动创建一个新的空文件。
	- **注**：在当前根目录，右击选择打开 Git Bash。文件才会在当前根目录下创建。
	- :heavy_check_mark:  `.gitignore`：纯文本文件，Git 版本控制系统的配置文件，告诉 Git 哪些文件或目录 **不应该被追踪和提交**。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/2b114d0664eb47dfa5e99cc7fdcd0d2b.png)
---
**第二步：** 打开代码编辑器，添加要被忽略的文件（相对于`.gitignore`文件的路径）。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/ea743539bff043459afbbedf9963a089.png)

---
**第三步：** 查看仓库状态，看下未被跟踪文件的列表。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/ea442559e17949c3acc9c40b0213fe29.png)

**注意事项**
* **文件位置**：`.gitignore` 文件通常放在 Git 仓库的**根目录**。也可以在子目录创建，规则会应用于该子目录及更深层级。
* **生效时机**：`.gitignore` **只对尚未被 Git 追踪的文件生效**。如果一个文件已经被 `git add` 和 `git commit` 过了，那么即使后来把它加入 `.gitignore`，它仍会被追踪。此时需要先用 `git rm --cached <文件路径>` 命令将它**从 Git 的追踪列表中移除**。


---
---
### 解决问题：应该被忽略的文件，却已经被提交和推送，如何在 Git 仓库和远程仓库中删除
<br />

**查看仓库状态 和 忽略文件**：`git status --ignored`。发现比我们设置的忽略文件多一个。查找后，发现编辑器的环境配置文件夹`.idea`中，默认有一个 忽略文件`.gitignore` 文件，这两个都起效。
- 而整个`.idea` 文件夹都是**不应该**被追踪、提交、推送的，因为这是个人的代码编辑器的环境配置，每个人的设置都不同，没有必要提交。 而这个应该被忽略的文件夹 ，已经被提交，且推送到了Github上，该如何处理呢？
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/d7cdb0293efb497a9130b3a5f9debbf4.png)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/2c57125f09d141e2918b8609ba1484a9.png)

---
**解决办法**：需要从 Git 的**追踪列表**和**历史记录**中将其完全移除，并确保它不再被提交，这个过程通常分为以下几步：
- 处理这个问题的正确流程是：**停止追踪（从 Git 追踪列表删除） -> 提交删除 -> 设置忽略 -> 推送到远端**。

| 步骤 | 核心操作 | 作用说明 | 风险提示 |
| :--- | :--- | :--- | :--- |
| **1. 从 Git 追踪列表中移除**。<br />⇒  **停止跟踪文件，但保留在本地工作区**。 | 执行 `git rm -r --cached .idea` 命令。 | 将`.idea`从 Git 的**暂存区/索引中**删除，但保留本地工作区文件。 | :warning: **高危**：命令中缺少`--cached`参数会导致**本地文件也被删除**，一定要加上。 |
| **2. 提交更改** | 执行 `git commit -m "移除.idea目录"` 命令。 | 生成一个新的提交，记录从仓库中删除`.idea`的操作。 | 无。 |
| **3. 添加到忽略列表，<br />并提交修改后的文件** | 在`.gitignore`文件中添加`.idea/`。 | 确保后续对`.idea`的更改**不会被 Git 再次追踪**。 | 无。 |
| **4. 推送到远程** | 执行 `git push origin <branch_name>` 命令。 | 将本次删除操作 **同步到远程仓库**（如 GitHub）。 | 无。 |

---


**第一步**：将 `idea` 文件夹从 Git 的索引中删除，但保留本地工作区文件。**让 Git 停止追踪文件**，但文件本身会保留在你的电脑上，IDEA可以继续使用它。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/d84141efd6d14a51a72a29260ea506f2.png)

- ❶  **`git rm`** - Git 的删除命令。
- ❷ **`-r`** - **递归**标志，表示如果 `.idea` 是一个目录，会**递归删除“目录下的所有内容”**。
- ❸  **`--cached`** - **关键选项**，表示"只从 Git 的追踪列表中移除，但保留在本地硬盘上"。
	- :warning:**注**：**请务必检查确认“没有漏掉`--cached`参数”。**
- ❹  **`.idea`** - JetBrains IDE（如 IntelliJ IDEA, PyCharm, WebStorm 等）的项目配置文件目录。

---
*   **关于清理历史（可选但推荐）**：以上操作后，`.idea`虽然从最新代码中消失了，但仍保留在 Git 的**历史提交记录**里，如果不包含隐私信息，可以不清理提交历史。
	* 如果其中包含**敏感信息**（如 API 密钥），要完全清除历史记录，需要使用 `git filter-branch` 或 `git filter-repo`，但这会重写历史。
	* **注意：重写历史会改变提交哈希，如果仓库是多人协作，必须提前协调好**。
*   **沟通与同步**：操作完成后，**务必通知团队成员**。因为他们可能拉取了之前含`.idea`的文件夹，需要在拉取（pull）本次的更改后，在本地也执行`git rm -r --cached .idea`命令，以保持本地仓库状态一致。



---

**第二步：** 把文件夹从Git 的暂存区/索引移除后，**提交本次移除操作**。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/08b8ee9d0a414016915c3934f33c47f0.png)


---
**第三步**：把需要被忽略的文件，如 `.idea` 文件夹，添加到 忽略文件`gitignore` 文件中，并提交 `.gitignore` 文件。




![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/c7796dea3e2e420e8b95525e01a1ed07.png)

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/76798d36a2614f269fad82f94855c197.png)


---
**查看 提交的历史记录**：`git log`
- **注**： Git Bash 中输入 `git log` 后出现 **END** 就无法再输入其他命令了。
	- 是因为 `git log` 默认使用了**分页器**（pager）来显示内容，通常是 less 或 more。当看到 END 时，说明已经到达日志末尾，需要**退出分页器**才能返回命令行。可以**按 q**（英文输入状态下）退出分页器，就会重新出现命令行。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/90a4cd3e75504dbb8d70bd427161d766.png)

---
**第四步**：把 Git 仓库，推送到 Github。查看远程仓库的 `.idea` 文件夹是否删除，是否添加了 `.gitignore` 文件。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/eaa6629c8fb54af5bce45ee05b80fa70.png)

- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/7be193b0f3824b22bfb069b46e883892.png)



![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/a0ffa2b761bc4149b79849d4bda5aaf5.png)



---
---
## 撤销提交/ 回退到“指定提交版本” 、把暂存区文件 回退到工作区
### 版本回退：在 Git 仓库里提交了错误的内容、回退到之前的版本 （git reset --soft/mixed/hard HEAD~n/提交 id）

- **需要了解的基本命令和几个区域**
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/4678aedd3c824f198b98d144e0a9b98d.png)

- **工作区** (Working Directory)：正在编辑的文件。
- **暂存区** (Staging Area/Index)：准备提交的文件列表。
	- **staging area**，又叫 **index** ，即 staging area = index ，**暂存区/ 索引区**。
- **版本库/本地 Git 仓库** (Repository)：已提交的历史记录。




---
#### 版本回退的基础命令
<br />


**相关命令和用途**
|用途|命令  |
|:--|:--|
| 查看 **仓库的当前状态** | `git status`  |
| 查看 **提交的历史记录、HEAD 指向** | `git log --oneline`（简洁版：提交 id 、提交说明）；<br />`git log`（详情版：有提交的id、说明、作者、邮箱、时间）。|
| **把文件添加到“暂存区”** | 添加指定文件：`git add  <文件路径>`  ；<br />添加全部文件：`git add . `| 
| **提交文件** | 把暂存区文件全部提交： `git commit -m "提交说明"`；<br />**绕过暂存区，直接 指定提交文件**（不提交暂存区其他文件）：<br />`git commit  <文件路径> - m "提交说明"`。|
| **移动 HEAD 指针，保留暂存区、工作区**。<br />**最后一次提交内容**： 回到暂存区，待提交状态。<br /> 暂存区域保持不动。<br /><br /> **使用场景**：撤销提交，所有修改放入暂存区，重新提交。 |  `git reset --soft HEAD^`<br /><br /> **提交 id 替代 HEAD，回退到“指定提交”**：<br />`git reset --soft commit_id` 。   | 
| **移动 HEAD 指针，重置暂存区，保留工作区更改**。<br />**暂存区所有内容、最后一次提交内容**：全部 回到工作区。<br /><br />**使用场景**：默认模式，所有修改保留在工作区（含原本暂存区内容）。 | `git reset --mixed HEAD^`  = `git reset HEAD~1`  <br /> （`--mixed` 可省略，`git reset`默认模式）<br /><br />**取消暂存的特定文件**：`git reset HEAD file.txt`  = `git reset file.txt ` （默认是 `--mixed HEAD`）。<br />仅从暂存区移除该文件，不影响工作区的修改。|
| **移动 HEAD 指针，重置“暂存区、工作区的修改”**。<br /> :warning: 已跟踪文件的 暂存区的修改、工作区里的修改 都会被清除。<br /><br /> **使用场景**：**彻底回退**，直接**从本地删除所有修改**（包括：**未提交的暂存内容**）。<br /><br />`--hard` 会**永久删除未提交的更改，无法恢复**（除非有 `stash`）；<br /><br />对已推送到远程仓库的提交 使用 `reset` 后，<br />需要强制推送 (`git push -f`)，<br />这可能影响其他协作者。|  `git reset --hard HEAD^`|
| **查看 所有操作的历史记录**  | `git reflog` | 

---

- 执行回退操作，要知道 **当前版本是哪个版本**，Git 中， 默认：**HEAD 指针 = 指向当前版本 = 最新的提交**。
	- **上一个版本 = `HEAD^` =  `HEAD~1`**；移动 HEAD 指针，让 HEAD 指向上一个版本。
	- **上上个版本 = `HEAD^^`=  `HEAD~2`**；移动 HEAD 指针，让 HEAD 指向上上一个版本。
	- **上 n 个版本 =  `HEAD~n`**；移动 HEAD 指针，让 HEAD 指向上n 个版本。
	- **`HEAD` 的替代**：也可以用指定的 **提交 id** 替代，HEAD 会指向指定的提交。
- **回退版本**：`git reset` 。
- **注**：`git reset` 需要谨慎使用，可以**移动 HEAD 指针**，可选择性 **撤销提交、重置暂存区、工作区**。
- **主要作用**
	- ❶ **移动 HEAD 指针（可选 撤销提交）**：**HEAD** 指针移动到指定的目标提交，如果指向的是别的提交（不是当前的 HEAD），当前的提交就会被撤销，跟目标提交保持一致。如果 **HEAD** 指向的还是当前提交，则跟当前提交一致，也就是不撤销提交。
	- 选择性重置暂存区、工作区。
	- ❷  **重置暂存区**：跟目标提交保持一致，把暂存区内容清空，都移出去。
	- ❸ **重置工作区**：跟目标提交保持一致，只要是被追踪的文件（使用过一次 `git add`），跟目标提交不一致的修改内容 全部删除，如果这些修改没提交过，将很难找回。
- **`git reset` 的 3 种模式（3 个选项）**
	- ❶ 移动 **HEAD** 指针，但**保留暂存区、工作区**的更改：`--soft`。
		- 相关操作：
		- **移动 HEAD** 指向目标提交（如果指定了提交），撤销提交、提交内容回到“暂存区”（最安全）。
		- **保留暂存区**：不动暂存区的内容。
		- **保留工作区**：不动工作区的内容。
	- ❷ 移动 HEAD 指针，**重置暂存区、保留工作区**的更改：`--mixed`。。
		- 相关操作：
		- **移动 HEAD** 指向目标提交（如果指定了提交），撤销提交、提交内容回到“工作区”（默认模式）。
		- **重置暂存区**：使其与目标提交一致。
		- `git reset HEAD^` = `git reset --mixed HEAD^`
	- ❸ 移动 HEAD 指针，**重置暂存区、工作区（最不安全）**：`--hard`。
		- 三个操作
		- **移动 HEAD** 指向目标提交（如果指定了提交），撤销提交，新提交内容直接删除。
		- **重置暂存区**：暂存区内容全部清除，使其与目标提交一致。
		- **重置工作区**：已跟踪文件在工作区的修改 全部删除，使其与目标提交一致（会导致未暂存的修改被覆盖）。
	-  :heavy_check_mark: `--hard` 的意思：为了**和“目标提交的内容”保持一致**，**已跟踪文件的 工作区、暂存区、提交的相关内容 都直接清除** ⇒  相当于 **放弃所有本地修改，回到上次提交**。
		- :warning: **风险警告**：针对 **已跟踪的文件**（只要文件使用过一次 `git add` = 已跟踪），这个命令会**永久删除**：**未暂存的文件更改，暂存的代码修改，最后一次提交的修改。**
			- `git reset --hard` 是 Git 中最危险的命令之一，使用前务必三思！
	- **注**：在 Git 中任何 已提交 的东西，都会被提交到 本地 Git 仓库，几乎总是可以恢复的，相对安全。
		- **而已跟踪 却未提交的东西，一旦丢失**，很可能**再也无法找回**。如，在工作区、暂存区的修改内容，一旦被直接删除，就很难再恢复。

---
**区分“已跟踪文件”、“未跟踪文件”**
- :bell: **`git reset` 不会清除的文件**：“**纯未跟踪的文件**（`Untracked files`）” = 从未被 Git 跟踪过的意思是： **从未使用过 `git add` 的文件**，该文件一次 `git add` 都没用过，就不会被`git reset`清除。 
	- **原因**：`git reset` 只操作**已纳入版本控制的文件**，从未跟踪过的文件 一次`git add` 都没使用过，不属于版本控制范围，所以 `git reset` 重置提交时 不会处理它们。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/3e61e494b401453f887c02823cb27ccd.png)

	- 假如一个文件使用过一次`git add` 添加到暂存区，这个文件就是已跟踪文件了，即使后面对该文件的任何修改 都没有用`git add`添加到暂存区（此时属于 在已跟踪文件的工作区），它也是一个被跟踪的文件，`git reset` 重置已跟踪文件的暂存区、工作区的时候，这个文件的新增修改都会被删除。
---
- **工作区、已跟踪文件、未跟踪文件**

	- 工作区有两种文件：一种是从未使用过 `git add` 的**未跟踪文件（untracked file）**，一种是使用过至少一次`git add` 的**已跟踪文件**。
	- **容易误解的点**：我们已经使用`git add` 把文件添加到暂存区了，就是暂存区的文件，怎么还会出现在工作区呢？
		- **工作区（Working Directory）**，就是我们**编辑文件的本地文件夹**，我们实际看到的文件。
		- **暂存区（Staging Area/Index）**：`git add` 添加的地方。
		- **版本库（Repository）**：`git commit`提交的地方。
	- **例**： 假如我们创建了一个新文件 `file.txt`，把它用 `git add` 放到暂存区等待提交，然后我们继续修改这个文件  `file.txt`，再次查看仓库状态，会发现 `file.txt`有两个提示：
		- 一个`file.txt`在暂存区，提示我们提交。
		- 一个`file.txt`在工作区， 提示我们暂存本次修改。
		- 而此时 未跟踪文件列表中 不会再出现`file.txt`，因为它已经使用过`git add` = 已跟踪文件了。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/1fdac8e3a2b74c72967d759148260425.png)
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/0837e28bbf6d4478a3e4f95817d822d2.png)
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/3e0d5c2bedf445b59215d9edc0ff9b2f.png)
---
- :bell: **注**：同一个文件修改多次，`git add` 多次，然后只提交一次，最后提交的是谁呢？**提交的是 最后一次 `git add`的内容 = 当前工作区的内容**。
	- **`git add` 让工作区 覆盖暂存区内容**：每次 `git add` 都会用 **“当前工作区”的文件内容** 覆盖 **“暂存区”中对应文件的内容**。
- **使用 `git add` 的时机**：按逻辑单元 `git add`，比如完成 一个功能，一次修复，一个新文件，可以`git add` 后 提交，确保每次提交都能成为一个有效的回退点，在代码出问题时，可以进行版本回退，成为一种补救方式。

```bash
# 坏例子：一次性 add 所有不相关修改
	git add .
	git commit -m "修复bug和添加新功能"  # ❌ 代码功能混杂在一起，功能划分不清晰
	
	# 好例子：按逻辑分开 add
	# 先处理 bug 修复
	git add src/error_handler.js
	git commit -m "修复用户登录时的空指针异常"
	
	# 再添加新功能
	git add src/new_feature.js test/new_feature.test.js
	git commit -m "添加用户偏好设置功能"
```



---
- **Git 可以管理、跟踪我们在本地文件夹里的修改**，这种修改是和之前该文件夹的对比，如 新增文件、删除文件、修改某个文件具体内容，有变动都算是修改（注：追踪具体的修改内容时，**只能追踪文本内容**，二进制数据的文件 无法追踪修改的具体内容，如图片里图画怎么修改的 是看不见的）。
	- 对于`git add` 过的**已跟踪文件**，修改具体内容，会出现 暂存修改的提示。
	- 对于从未`git add` 过的**未跟踪文件**，修改具体的文件内容，不会出现修改的提示，会一直提示**该文件在未跟踪文件列表** （**untracked files**）里。




---
#### 版本回退的具体步骤
<br />

**基本流程**：添加一段错误信息 → 提交到 本地 Git 仓库 → 后悔了，想回退到没修改之前的版本。

 **第一步：**  在某个文件中添加一段文字：如 在 **README.md**中添加一段话，并提交到 本地 Git 仓库中。同时建 2 个 空的 txt 文件，一个不暂存、不提交，一个只暂存，看一下 `reset` 命令如何影响 **工作区、暂存区、已提交文件**。
 - 目前三个文件：一个没暂存、没提交，一个只暂存了，一个暂存和提交了。
 - **注**：文件名用**英文字母**，不要包含中文字，容易出现乱码问题。
	 - ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/34e878ff86a24dfc8ca01f0c5e9d9169.png)

- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/b46d1f34739a449a8bc18f9b29bbd3eb.png)

---
**第二步**： 分别对三个文件进行操作。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/3de94f5180c84068b4f617701b9dbf1d.png)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/13c1a369f7254c43a124066b5ee05b47.png)


- **查看提交历史**：
	- ❶ 命令行：`git log`（带用户名、时间）、`git log --oneline` （一行的 **简洁版提交历史**）
		- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/61b5287293a145a2b9677a8a33408f8a.png)


	- ❷ 可视化的提交历史：可以在 代码编辑器，如 webstorm 中查看提交历史，打开项目后，点击左下角 **Git** ，即可查看。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/b611d81ca8b4451dbbdcc0e3d31d7adc.png)



---
**第三步：** 现在有 7 次提交，假设第 7 次是错误提交，我们想回退到第 6 次提交的版本，也就是上一个提交版本。

---

❶ **第一种撤销提交**：**撤销最后一次提交**，移动 HEAD 指针 到上一个提交的版本，但**保留暂存区和工作区**，最后一次的 **提交内容回到暂存区**。
- `git reset --soft HEAD^` 或 `git reset --soft HEAD~1` 

	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/5d4184978a9748eeb913601cdecfa0de.png)
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/cab0f649c76641b28acb48a8238765a0.png)
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/8a2f66b680794bb8a758849a0be909a7.png)



---
**第二种撤销提交**：`--mixed`选项，**可省略**，是**默认模式**。 移动 HEAD 指针，**重置整个暂存区**（不管提交还是没提交的），但保留工作区的更改。
- 撤销提交，提交内容回到工作区：`git reset HEAD~1` =   `git reset HEAD^`     =  `git reset --mixed HEAD^`  
- **注**： 默认模式是 **重置整个暂存区**，**重置的提交内容、暂存区所有内容 都回到工作区**。不仅被撤销的提交内容回到工作区，**在暂存区里 没被提交的文件，也要回到工作区**。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/a367afd5ec694e4ba1dd599c9acab8b8.png)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/1e7c2c22915948fa860209b2103af3e5.png)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/c6256386453041bda5a7f3764d698d61.png)

- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/3c29792f16054942bfbb4acbc70ed237.png)

- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/62d43ece9dbf4175848b687110b37f9e.png)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/7a0f56524f9841c18668d3b882a56c79.png)


---

**第三种撤销提交方式**：**移动 HEAD 指针，重置暂存区、工作区。**
- 已跟踪文件的 提交内容、暂存区、工作区 **全部和目标提交保持一致**。
	- **移动 HEAD** 指向目标提交（如果指定了提交），撤销提交，新提交内容直接删除。
	- **重置暂存区**：暂存区内容全部清除，使其与目标提交一致。
	- **重置工作区**：**已跟踪文件在工作区的修改 全部删除**，使其与目标提交一致（会导致未暂存的修改被覆盖）。

	- 只有从未被跟踪过的文件（没使用过一次 `git add`）还存在。


- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/c5063e858492434b97b027c458d48638.png)

- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/52cc99181a314c519e200d30e828720f.png)

- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/c6f10545f6ab44f896de5f526af0e1ea.png)



---
---
#### 重置提交后的“恢复操作”：从操作记录里的提交恢复 git reflog、从暂存区 恢复 git fsck --lost-found、git show <哈希值>

-  **恢复误操作**：如果不小心误用了 `git reset`。
	- 比如 我们现在使用了 `--hard` 重置后，发现暂存区文件被删掉了，文件里的修改也被删掉了，突然后悔了，还想重新恢复被删除的内容。

---
- **第一种方式**：从操作记录的提交中恢复。
```bash
# 查看所有操作记录
git reflog

# 恢复到 reset 之前的状态
git reset --hard HEAD@{1}
```
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/c214f5bf572c42cfaf9f4b7fce7c1276.png)
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/642d7d3c7cad4415894aa96956233540.png)


---

 **第二种方式：从暂存区恢复**。如果文件曾被 `git add`到暂存区，可用 `git fsck --lost-found` 查找。
- **注**：**暂存区的空文件 被硬重置`--hard`删除后 无法找回**，如 只有名字的 txt 文件。
	- 如果**不是空文件**，放在暂存区后，被 `git reset --hard HEAD^` 硬重置后，用 `git fsck --lost-found`能找回。
	- 原因：在 Git 中，空文件（0字节） 的 blob 对象哈希值是固定的：`e69de29bb2d1d6434b8b29ae775ad8c2e48c5391`，Git 可能不会为空的暂存文件创建新的 blob 对象，空文件就可能没有保存为 **blob**。

> **Git 的工作机制：**
> 1. **`git add` 时**：文件内容被保存为 **blob** 对象，存储在 `.git/objects/`。
> 2. **`git reset --hard` 时**：
>    - 清除了**暂存区的引用**。
>    - 但 blob 对象**仍然在数据库**中。
>    - 只是变成了 **"孤立"对象**。
> 3. **`git fsck --lost-found`**：专门查找这些孤立对象并保存。
> ---
> **注意事项**
> 
> 1. **及时操作** - 孤立的对象可能会被 Git 的垃圾收集（`git gc`）清理掉。
> 2. **不是所有情况都能恢复** - 只能恢复已经被 Git 跟踪过的内容。
> 3. **不会恢复“未跟踪的文件”** - 从未 `git add` 的文件无法恢复。



`git fsck --lost-found` 
- **fsck** = **F**ile **S**ystem **Che**c**k**，文件系统检查。
	- Git 内部命令，用于验证 Git 仓库中对象的完整性和连接性。
	- 检查数据库中的所有对象是否有效、是否有损坏、是否被孤立。

`--lost-found` 参数
- 将被孤立（dangling~美/ˈdæŋɡlɪŋ/，悬挂，悬空的~）的对象（提交、blob、tree）保存到 `.git/lost-found` 目录。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/c0981cfc7a7e4f91ae19ed159f05ce32.png)

- 如果不加此参数，`git fsck` 只会在控制台显示报告，不会实际保存这些对象。
- 使用场景：**强制重置** ， 使用了 `git reset --hard`， **误删分支** ， 删除了未合并的分支。



**恢复数据的步骤**

```bash
# 1. 运行 fsck 查找并保存孤立对象
git fsck --lost-found

# 2. 查看孤立的提交的详细信息
git show <commit-hash>
git show 8653a3faf97ef52053a1ffc6cf957ed0911cdb72

# 3. 对于孤立的文件（blob对象）

# 查看这个blob文件是什么内容
git show <blob-hash>
git show 85021d8b12f30f2794f823746e94716347515a56

#    使用 git show 查看内容时 手动保存到指定文件中（会新建一个文件 ）
git show <blob-hash> > recovered-file.txt
git show 85021d8b12f30f2794f823746e94716347515a56 > recovered-file.txt

# 4. 如果需要恢复某个提交到新分支
git checkout -b recovered-branch <commit-hash>

```

---
**测试“恢复暂存区数据”的具体步骤**
<br />
**第一步**：创建一个新文件，添加一段内容，并把该文件`git add` 添加到暂存区，这个文件就是测试对象。

- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/ccf8262b486d4c83a0d79f42df8bb36b.png)
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/9fe3cba21f174da383468b396c289d99.png)
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/ba51c4489c8d48d19cb14de1945837dd.png)

----
**第二步**：HEAD 指针不移动，仍指向当前提交，但重置暂存区、已跟踪文件的工作区。
-  ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/a6542b45fe8c47af8e70ac95e542ce1b.png)
---
**第三步：** 找回暂存区里 **被删除文件内**容。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/24663f439bd44983aa2b54039d6795fa.png)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/6175eff03c10432f9d79ce5100762150.png)







---
**输出解析**：显示 Git 找到了**8个孤立的（dangling）对象**：
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/c3716c156f8f4d7cac5833ef6728bc8a.png)






 **检查结果**
- `Checking ref database: 100%` - 已检查完**引用数据库**。
- `Checking object directories: 100%` - 已检查完**所有对象目录**。
- 找到了 **3个dangling blob** 和 **5个dangling commits**

 **"dangling"（孤立）对象**： 这些对象存在于 Git 数据库中，但**没有任何引用指向它们**。
- 比如：
	- 分支被删除后，对应的提交就成了孤立的。
	- `git reset --hard` 之后，之前的提交变成孤立。
	- 暂存后又被修改的文件也会产生孤立的 blob。



**dangling blob** - **孤立的“文件内容”**：`dangling blob d7355035b0e20097746bb96749d5a0c6735f997a`

- **blob**：表示这是**文件内容**（不是提交或目录树）。
- **可能来源**：
  - 执行了 `git add` 但后来修改了文件。
  - 执行了 `git reset` 或 `git checkout` 导致暂存区内容丢失。
  - 提交被删除后留下的文件内容。

 **dangling commits** - **孤立的提交**：`dangling commit 8653a3faf97ef52053a1ffc6cf957ed0911cdb72`
 


- 这些提交存在，但没有分支、标签或其他提交引用它们。
- **常见原因**：
  - 分支被删除（`git branch -D`）。
  - 使用了 `git reset --hard` 回退。
  - 变基（rebase）失败后留下的中间提交。

**孤立对象被保存到哪里？**
- 如果使用了 `--lost-found` 参数，Git 会将这些对象保存到：
```
.git/lost-found/
├── commit/    # 存放5个孤立提交
└── other/     # 存放1个孤立blob文件
```



---

**最佳实践**
1. **先备份**：重要更改前先创建分支或 `stash`。
2. **慎用 `--hard`**：确认不需要那些更改，且知道**已跟踪文件的暂存区、工作区**都会被**重置**。
3. **团队协作**：避免对共享分支使用 `reset`。
4. **替代方案**：考虑使用更安全的 `git revert`。

 **reset vs revert**
```bash
# reset：修改历史（适合本地、未推送的提交）
git reset HEAD~1

# revert：创建新提交来撤销更改（适合已推送的提交）
git revert HEAD

# 只取消部分文件的暂存
git reset HEAD -- file1.txt file2.txt
```

记住：**对公共分支使用 `reset` 要格外小心**，优先考虑使用 `git revert` 来安全地撤销更改。


---
---

##  取消暂存（取消暂存区的修改）⇒  重置暂存区、保留工作区修改  

<br />


**需求**： "取消 `git add` 操作"，让文件回到**修改 但未暂存**的状态。
 - ❶ `git reset` 命令：可以回退版本，也可以把暂存区的内容 回退到工作区，重**置暂存区，保留工作区的内容**。
 -  ❷  `git restore --S <文件路径>` = `git restore --staged <文件路径>` ，可以重置暂存区 ，将**文件从暂存区移出，但保留工作区修改**。
 	- **注**：此处的**暂存区简写**必须是 **大写  `-S`**，小写`s`是另一个指令。 
 	- **注**：如果文件被暂存后 又进行了修改，且这次修改没暂存，那么**重置暂存区后，就只有工作区的修改保留**，暂存区的修改被重置了，不保留。
 
---

###  ⑴ 第一种方式 取消暂存的文件：git reset HEAD <文件路径> = git reset  <文件路径>
- **注 1**：没有撤销提交，取消暂存操作、退回工作： 仅 对`git add` **放在暂存区的文件有效，对已提交的文件无效**。
	- **例**： `git reset HEAD add-staged-file.txt`  = `git reset add-staged-file.txt ` （默认是 `--mixed HEAD`，可省略）。
		- 仅从暂存区移除该文件，不影响工作区的修改。
		- 用于将 `add-staged-file.txt` 文件从“暂存区”移回“工作区”，即取消对该文件的暂存。
		- `git reset`：重置命令，用于移动 HEAD 指针或重置暂存区。
		- `HEAD`：代表当前分支的最新提交（当前所在位置）。
		- `add-staged-file.txt`：要操作的具体文件。


- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/bf606c0a42ac434ea682adad0aacebcb.png)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/b6c6fd00fa5b414e82de0bab5e438bb7.png)

---
- **注 2**： 想把**已提交的文件 退回工作区**，保存工作区修改 = **版本回退**，参考上一节。可以撤回提交，把 HEAD 指向上一次提交：`git reset HEAD^`（省略默认值 `--mixed`）

	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/bea42f8e6058426bbf258bdb22cc5b1f.png)
---

### ⑵ 第二种方式 取消暂存的文件：git restore --S <文件路径> = git restore --staged <文件路径>

- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/a8fea40695db433a9e1dd6c76bafbb14.png)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/fcee85ae2d1b46c7820a9b3b40792ff2.png)






---
---


<div id="huifuwenjian" style="display:none"> </div>


## 恢复文件（丢弃工作区修改）：从某个分支/ 提交/ 暂存区 恢复文件 到工作区

<br />


**可能用到的基础命令**

<br />

|用途|命令  |
|:--|:--|
|  **查看文件内容**| `cat <文件路径>` <br />![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/924f6f855db845ef9bb162cb63bb6e58.png)|
|**查看 提交历史记录** | `git log --oneline` （一行版；提交id、提交说明）<br />![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/b080129d59f14b55b572efa27e45a969.png)|
| **查看 某次提交时的文件的内容** | `git show <commit-hash>:<文件路径> `<br />![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/27795996306043558556a2f9d672f1f1.png) | 
| **查看 某次提交的详细信息（差异）** | `git show <commit-hash>  `<br />![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/43feaf3d878e4ad084482502308a7e7e.png)|
|**查看 当前的最新提交（差异）** | `git show HEAD`  <br />![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/0a632651c1dc4154a40685cb43ae2166.png)  | 
| **比较任意两个提交的差异** | `git diff <旧哈希> <新哈希>`  |
| **丢弃工作区的修改⇒  从某个分支 “恢复文件”**；<br />注：这个操作有危险性，未提交的修改 会被永久丢弃且无法恢复。<br /> 首先，要确定某个文件的当前修改 全部不要了，其次才能用。| `git checkout 分支名 -- <文件路径>` | 
| **丢弃工作区的修改⇒ 从某个提交 “恢复文件”**；<br />**作用：** 恢复到“任意历史版本。 <br />**注：从提交历史恢复的文件 会被默认添加到“暂存区””**。<br />注：这个操作有危险性，未提交的修改 会被永久丢弃且无法恢复。| `git checkout 提交id -- <文件路径>`（优先级：暂存区＞最新提交）|
| **丢弃工作区的修改⇒ 从最新提交、暂存 恢复文件内容**：<br />将指定文件 恢复到最近一次 提交（ `git commit`） 或 暂存 （`git add`） 时的状态。<br /> **作用：丢弃当前工作区的修改（未暂存的修改）**。<br /><br />注：这个操作有危险性，未提交的修改 会被永久丢弃且无法恢复。 | `git checkout -- <文件路径>`| 
| **丢弃工作区的修改⇒ 从“最新暂存/ 提交” 恢复文件内容**。<br />注：这个操作有危险性，未提交的修改 会被永久丢弃且无法恢复。 |   `git restore <文件路径>`（优先级：暂存区＞最新提交） | 
| **丢弃工作区的修改⇒ 从指定提交 恢复文件内容**。<br />注：这个操作有危险性，未提交的修改 会被永久丢弃且无法恢复。 | `git restore -s 提交id <文件路径>` = `git restore --source=提交ID <文件路径>`| 

> **安全建议：**
> 1. 使用 `git checkout -- <file>` 前，可以先 `git diff <文件路径>` 确认要丢弃的修改。
> ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/45d8eb612f4642358b5f090fe06d9680.png)
> 2. 考虑使用 `git stash` 临时保存修改，而不是直接丢弃。
> 3. 在 **Git 2.23+** 版本中，推荐使用**更清晰的命令**：
>    - `git restore <file>` 替代 `git checkout -- <file>`
>    - `git restore --source=提交ID <file>` 替代 `git checkout 提交ID -- <file>`


---
### ⑴ 第一种方式 恢复文件：git checkout 提交id/分支名  - - <文件路径>、git checkout - - <文件路径> （优先级：暂存区＞最新提交）

- ❶  **从某个提交恢复文件**：`git checkout 提交id -- <文件路径>`，
	- **注**：连字符 `--` 一定不能省略。
- **例**： `git checkout 87affb3 -- README.md` 从提交 `87affb3 ` 恢复 `README.md` 文件。


	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/27cb8b8c5a8c4151ab0734e64a5ed821.png)
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/a59e3819ec764b72a5b2cf554e080cdd.png)


---
- ❷  **从某个分支恢复文件**：`git checkout 分支名 -- <文件路径>` 
- **例**： `git checkout main -- README.md` ：从 `main` 分支恢复 `README.md` 文件。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/9467d990f6d641d49fc92d05aca4bdcf.png)
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/6122494a8c93443e927e98c1b867beb2.png)


----
- ❸ **从最新一次提交、暂存区恢复文件**：`git checkout -- <文件路径>`
	- **暂存区有内容**：该命令恢复到 **暂存区的内容**。如，提交后修改两次，第一次修改后放到暂存区了，第二次修改不想要了，会恢复到暂存区一样的内容。
	- **暂存区没内容**：该命令恢复到 **最新提交时的内容**。如，提交后多次修改，但没暂存过，该命令恢复到最新提交的版本。

- A：**暂存区有内容：从暂存区恢复文件**。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/ff3671db4a764f65b9f09278f68c2494.png)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/5b00b08f46ef48ef9eb2a2cbc7c7979c.png)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/619d5786dc4e431ea90f63fcb37ada53.png)


---
- **B：暂存区没内容：从最新一次提交的文件 恢复内容**。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/ae4a3344d81c4a52919604cffe21983f.png)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/ec1ccbddc96941ceaca0d4add28e8c05.png)


---

### ⑵ 第二种方式 恢复文件：git restore -s 提交id <文件路径> = git restore --source=提交ID <文件路径>、git restore <文件路径> （优先级：暂存区＞最新提交）



-  ①  **丢弃工作区修改，从最新一次提交、暂存区恢复文件**：`git restore <文件路径>` 
	- **注**：**同个意思，三种写法**：
		- 默认选项 `git restore <文件路径>` 
		- =  简写的显示指定 `git restore -W <文件路径>`   
		- =  完整写法：`git restore --worktree <文件路径>`      。 
	- **默认选项** `W/--worktree` ，恢复工作树。
		-  **默认恢复源**：优先级 暂存区＞最新提交，优先从暂存区恢复文件内容，暂存区没有内容，从最新提交的文件恢复。
		- **查看命令的帮助文档**：`git restore -h`。
	- **暂存区有内容**：该命令恢复到 **暂存区的内容**。如，提交后修改两次，第一次修改后放到暂存区了，第二次修改不想要了，工作区会恢复到暂存区一样的内容，文件里看到的是上次 `git add` 时的内容。
	- **暂存区没内容**：该命令恢复到 **最新提交时的内容**。如，提交后多次修改，但没暂存过，该命令恢复到最新提交的版本，文件里看到的是上次 `git commit` 时的内容。

- ❶ **暂存区没内容**：**从最新提交恢复。**
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/19f25d27d9d1444fa797e30034686e59.png)
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/705fb03855bf446bbf6aa7d6624c68cb.png)
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/e1cbcb1bd23f467f9dc98830f5b35bed.png)


---
- ❷ **暂存区有内容：从暂存区恢复文件**。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/fefa6cf80b1d476c813b3abf17d407f5.png)
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/881230f7b8c44cfd8c3160d7a80a4943.png)

---
- ②  **从指定提交版本 恢复文件**： 简写版 `git restore -s 提交id <文件路径>`  = 完整版  `git restore --source=提交ID <file>` 
	- **注**：**指定提交 id** 的 `--source`的 简写 `-s` **必须小写**。
		- **大写 S** 是 取消暂存`--staged` 的简写，用于**重置暂存区**。
		- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/30baad6c1dd34c1ab1695c08bc78f508.png)


---
---
## 删除文件：手动删除 = rm <文件路径>、从 Git 索引删除  git rm --cached <文件路径> 
- 对于 Git 来说，文件有两种：**未跟踪文件**（从未 `git add` 过的 **untracked files**）、**已跟踪文件**（`git add` 过、暂存区有过记录且没被清除）。
- 这两种文件，都可以在文件夹中直接手动删除，或者使用命令`rm`、`git rm` 删除（两个删除命令有区别，后面会详解）。
- 区别是：
	- ❶ **未跟踪文件 被删除了**，Git 不会特意提醒有文件被删除，只是未追踪文件列表会少一个文件名。
		- 新建两个文件，用`git status ` 查看仓库状态，有两个未跟踪文件，手动从文件夹删除其中一个。
		- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/43ca1df0589240c48be453f8dcd5411f.png)

	- ❷ **已跟踪文件 被删除了**，Git 会**特意提醒有文件被删除，“删除”也算是对已跟踪文件的一种“修改”**。

	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/f9d9fa8fe45f4f249df060e4e32a47f1.png)
---
- **注 1：直接从文件夹 删除文件 = 用 `rm` 删除文件**（注：不是`git rm`），都是从**本地的文件系统（文件夹）** 中删除文件，而 Git 控制的 暂存区、提交的 Git 仓库里，该文件仍然存在。
- **注 2**：如果文件**曾提交过**，此刻就还在Git 仓库里，此时把 Git 仓库 推送到远程仓库，那么推送的文件里仍然有本地被删除的文件，因为我们**推送的都是 Git 仓库的文件**（用 `git commit` 提交的），而不是本地的文件。
	- 如果想**把文件从 Git 仓库中删除**，让文件变成**未跟踪文件**，就需要 `git rm` 命令。 
---
**`rm` 命令和 `git rm` 的区别**


①   **`rm`**：是 Linux/Unix **系统命令**，用于从**文件系统中**删除文件。
 - 只从**工作目录**（文件系统）中删除文件，Git 仍然会跟踪这个文件的删除状态（在 `git status` 中显示为 "**`deleted`**"）
- 需要额外执行 `git add` 或 `git rm` 来更新 Git 索引、Git 仓库。

②  **`git rm`**：是 **Git 命令**，用于从 **Git 仓库和索引**中删除文件，把**已跟踪文件 变成未跟踪文件**，可选择性**保留本地文件**。

- 同时做两件事：
	- ❶  不带 `--cached`选项时，从**工作目录**中删除文件（物理删除），带 `--cached`选项时，保留本地文件。
	- ❷  从**Git 索引（暂存区）** 中删除记录。如果保留了本地文件，本地文件变成**未跟踪状态**。
		- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/e30962305fc44376a01cebbe5edc8772.png)

	-  删除操作立即进入暂存区，可以直接提交“删除操作”，提交后 Git 仓库里也会删除，推送到远程仓库时，就不会再有这个文件了。

| 特性 | `rm` | `git rm` |
|:------|:------|:----------|
| 类型 | 系统命令 | Git 命令 |
| 删除位置 | 仅工作目录 | 工作目录（可选） + Git 索引 |
| 是否需要 `git add` | 需要 | 不需要 |
| 保留本地文件选项 | 不适用 | `--cached` 选项 可保留本地文件。 |
| 递归删除<br />（删除文件夹 以及文件夹下所有文件） | `-r` 选项 | `-r` 选项 |
| 强制删除（文件有修改时） | `-f` 选项 | `-f` 选项 |


- **★ 常用情景 1：要从版本库（Git 仓库）中删除该文件、远程仓库里也不要了**，必须执行两个操作：
- **删除 Git 索引、提交删除**：❶ 执行命令 `git rm --cached <文件路径>` 删掉 该文件的**Git 索引**，并且  ❷ 把删除操作 用 `git commit -m "提交说明"` 提交到 Git 仓库 ，此时 Git 仓库索引里就没有该文件了，推送到远程仓库也不会有。
	- **注 1**：对于手动删除的文件，`rm`删除的文件，只要想**从版本库中删除，都可以执行 上面的两个操作**，不用记忆`rm`其他的 `git add` 操作（因为是同样的道理，都是暂存、提交“删除操作”）。
	-   **注 2**：`git  rm` 是否带 `--cached`选项，看是否保留本地文件。
	- 一般**建议选择带上`--cached`**，**保留本地文件**，后面需要删除时，自己手动删除也很简单，但如果被删除了，想手动恢复稍微复杂些。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/47a9c9594bfc4efe9a8162e011be49f9.png)

- **常用情景 2: 对于未跟踪的不重要文件**：可以直接使用 `rm`、手动删除。
	- **注**：这个被删了，一般是无法找回的，因为未被跟踪，Git 仓库里没保存。
- **常用情景 3：如果只是临时删除，还不确定是否要提交** → 用 `rm` = 手动删除，稍后再决定是否从版本库中删除，使用  `git add` 或 `git rm` ，效果是一样的，简单记忆的话，统一记忆 `git rm`即可。

---

- **后悔删除文件了，可以恢复文件**，更多恢复方法 参见“[恢复文件](#huifuwenjian)”小节。
	- **注**：没有暂存、提交过的内容，是无法恢复的。未跟踪的文件、已跟踪文件的**未暂存的修改内容**，被删除后 都无法恢复。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/18aefdbfa787479eb3d4f3f073dafd23.png)

---

 **`git rm` 其他用法**：
 
```bash
# 只从 Git 中删除，但保留本地文件
git rm --cached file.txt

# 递归删除：删除目录以及目录下的所有文件
git rm -r directory/

# 强制删除（即使文件有修改）
git rm -f file.txt
```

---

**删除 “暂存、提交后 又修改了的文件”**

```bash
# 如果文件有未提交的修改：
rm file.txt        # 可以删除，但需要 git add 、git rm <file> 
git rm --cached file.txt    # 需要加 -f 参数：git rm -f file.txt
```


- ❶ `git rm` ：对于暂存、提交之后又修改的文件，**不能直接删除，只能强制删除，加`-f`**。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/9781c0f0d3fa400bbdd0cc0cdbff59d9.png)
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/345b89ea94a145d2969addb015442a36.png)
- ❷ **使用 `rm` 删除**： 可直接删除有修改的内容，相当于直接手动从文件夹中删除了文件。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/5bce79007ef349799018e88265324597.png)














---
---
## Github 上的操作

### 克隆/下载 Github 上“已有的仓库”

<br />

 **克隆/下载 Github 上“已有的仓库”**：`git clone  仓库的 git 地址`
- ❶ **选择 克隆的项目“默认的存放位置”**：在哪里打开 Git Bash，就默认存放在哪里。
	- 比如 打开 **F 盘**后，**右击 选择“Open Git Bash here”** ，然后克隆下来的项目 就会**默认存放在 F 盘**。（`pwd` 命令，可以查看 Git **当前目录的位置**）。如果是桌面右击打开 Git，就会存在桌面上。
		- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/a2edc25a99434b388e12a02e4c45577b.png)

	- ❷ **选择要克隆的仓库、复制 仓库的 Git 地址**：在 Github 中，点击 某个仓库进入，找到 **该仓库的 Git 地址**，并**复制**。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/1156429e9af94bdc8aaf719268461b0c.png)

		- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/b6bbb7f465e64aa895d365b27a3512e1.png)
	- ❸ 在 Git Bash 中，输入 克隆命令`git clone 仓库的 git 地址`。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/afba78ff0e5946b2b988b06f8727768a.png)

		- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/1486d49d209747e59af7762e7ce1bec8.png)
		- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/570937602e87403489312f2342ae92d8.png)


---
---
### 删除 Github 上的仓库
<br />


- **删除 Github 上的仓库**：如果是自己的测试项目，没任何重要信息，不想要了，可以点击项目（仓库名），进入后 选择仓库的设置 **“Settings” →  General**，滑动到最下方，有删除选项，可以删除仓库。
	- :warning:**注**：删除仓库，相当于跟这个仓库相关的一切数据都没有了，谨慎操作。
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/9073d50fc9e2432fa383c78880b9cd1f.png)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/095b1df0fe1f46938566348e5696209d.png)
- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/dd7d39a8daf6487aa5bacb6307f12260.png)




---
---
### 在 Github 上预览 html 文件
<br />

**直接在 Github 上 预览 html 文件（看显示效果、非源代码）**
- **GitHub 官方的解决方案**：为仓库生成一个专属网址（如 `https://[我们的用户名].github.io/[仓库名]/文件名.html`）来访问项目页面，效果最好。

**设置步骤：**
-  ❶ **进入该仓库的“设置”**：选择具体的某个仓库（在 **“Repositories”** 里面）， 进入后，点击该仓库上方的设置 **“Settings”**。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/832bf8e3f3d641319ffd6b0c196b8ece.png)3.  
- ❷ **找到 Pages 选项**：在左侧菜单中找到 **“Pages”**（页面）选项并点击。
- ❸  **选择源分支**：在 **“Source”**（源）下拉菜单中，选择从 HTML 文件的分支部署，选择分支 **Branch**（通常选主分支 `main` 或 `master`），然后点击 **“Save”**（保存）。
	-  **等待部署**：自动的过程，很快，通常不到一分钟，页面会刷新并显示一个绿色的成功提示框，其中就包含网站网址（格式为 `https://[用户名].github.io/[仓库名]`）。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/e93c2503f32149a3bcd6021282881060.png)

- ❹ 设置完成后，访问 `我们的网站网址/文件路径`（如：`https://我们的用户名.github.io/仓库名/文件名.html`）即可看到**完美渲染的页面**。
	- 可以把这个网址加入 README.md 中，会直接显示在仓库的首页，就能直接点击链接，查看 html 渲染效果了。
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/16be6757c04143c488e5a612848c7692.png)
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/d9c52eec40b44a3a8d174844bc52e2ba.png)
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/408f931abdc4483e89777420aa53e9e1.png)
	- ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/3d681e3712304fd79b4c1c0bdb07e033.png)





---
---
- **如何参与一个开源项目**：
	- ❶ 选择想参与的项目 →  ❷ 点击 **Fork 按钮**，把项目复制到自己的 Github 账号里→ ❸  **克隆 Clone** 自己账号里 Fork 的项目，即下载到本地→  ❹ **修改**：按照项目 **README.md** 的说明 运行项目、修改项目、测试项目 → ❺  **推送**到自己 Fork 的项目里 → ❻ 发起 **Pull Request** → 原项目作者会审查我们的提交，提出意见（需要修改后 再次推送）、认为合适直接同意，会把 PR 合并到原项目中，或者拒绝（就是不同意我们的修改）。
- **注**：必须克隆**自己账号里 Fork 的项目**，才能推送修改，因为，我们**没有权限 把修改的内容 直接推送到“别人的账号”里**。



---
---
## Git 命令

### Git 帮助信息
- 使用 Git 时需要帮助，可以找到 Git 的帮助手册，进行提示。

|用途命令  | 说明|
|:--|:--|
| **需要 某个命令的一个快速参考表（常用）**：`git 命令 -h` ，如 `git add -h`，<br /> `-h` ：就是 `help`的缩写。|  ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/54d31f2ab3e54f08ae6734fbecdea455.png)|
| **获取某个命令的“帮助页信息”**：`git help 命令` = `git 命令 --help`，<br />如 `git help add`| **会打开浏览器，跳转到一个帮助页面。**<br />注：安装时就存在的**离线文档**，只是用浏览器打开这个页面，纯英文的，看不懂还想看的话，可以搭配翻译软件使用。<br />![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/6dee9c3ec53d4d26b7d9caa4a4ba4d90.png)|
|  **“帮助命令的简介”**：`git help` |  ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/38258377725a4bb79048a219a4f2b744.png)|
| **展示了 Git 所有可用的子命令和功能分类**：`git help -a` <br /> 多次连续 按 Enter 才能显示完全。<br />但一般不需要完全掌握，<br />只需要知道这个帮助用法即可。 |  如果按到底，出现 END，再按没反应，可以直接关闭窗口，重新打开。|








